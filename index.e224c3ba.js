!function(){const t=document.getElementsByClassName("backdrop")[0],e=document.getElementsByClassName("movie-details-modal")[0],n=()=>{t.style.display="block"},a=n=>{"none"!==t.style.display&n.target!==e&&(t.style.display="none")},o=document.querySelector(".gallery__box"),i=document.querySelector(".pagination"),s="cd99a2449e6daaffb205ea92bac682a0";let r,l,c,d=1;const{log:p}=console,g=t=>fetch(t).then((t=>t.json())).catch((t=>p(t))),u=()=>(l=`\n    https://api.themoviedb.org/3/trending/movie/week?api_key=${s}&page=${d}`,g(l).then((t=>{r=t.total_pages,c=t.results,_(c),function(t,e){let n,a="",o=e-1,s=e+1;e>1&&(a+='<button class="pagination__button--arrow-left">\n  <i style="pointer-events: none" class="fa-solid fa-arrow-left"></i>\n</button>');if(t>6){e>3&&(a+='<button class="pagination__button" type="button" data-page="1">1</button>',e>4&&(a+='<span class="pagination__hidden-results">&middot&middot&middot</span>')),e===t?o-=1:e===t&&(o-=2),1===e?(p(s,e,o),s+=2):t=>t<=4?(p(s,e),s+=1,o-=1):e===t+1&&(p(s),o+=3,s+=1);for(let i=o;i<=s;i++)i>t||(i<0&&(i+=2),0===i&&(i+=1),n=e==i?"pagination__button--current":"",a+=`<button class="${n} pagination__button" type="button" data-page="${i}">${i}</button>`);e<t-2&&(e<t-3&&(a+='<span class="pagination__hidden-results">&middot&middot&middot</span>'),a+=`<button class="pagination__button" type="button" data-page="${t}">${t}</button>`)}else for(let o=1;o<=t;o++)n=e==o?"pagination__button--current":"",a+=`<button class="${n} pagination__button" type="button" data-page="${o}">${o}</button>`;e<t&&(a+='<button class="pagination__button--arrow-right">\n  <i style="pointer-events: none" class="fa-solid fa-arrow-right"></i>\n</button>');i.innerHTML=a}(r,d)})));u();const _=t=>{o.innerHTML="",t.map((async t=>{let e,n,a=t.title,i=t.poster_path,r=t.id,c=t.release_date.slice(0,4)||"Sorry. No relase date yet.",d=await(async t=>(l=`https://api.themoviedb.org/3/movie/${t}?api_key=${s}`,await g(l).then((t=>t))))(t.id).then((t=>t.genres.map((t=>t.name))));d.length>2?(n=d.slice(0,2).join(", "),e=", Other"):d.length<=2&&d.length>1?(n=d,e="",2===d.length&&(n=d.join(", "),e="")):(n="Sorry. No genre added yet.",e="");const p=`<figure class="card" data-id="${r}">\n<img class="card__image" src="https://image.tmdb.org/t/p/w500${i}" alt="${a} movie poster" />\n<figcaption class="card__caption">\n  <p class="card__title">${a}</p>\n  <p class="card__description">${n+e} | ${c}</p>\n</figcaption>\n</figure>`;o.innerHTML=o.innerHTML+p}))};i.addEventListener("click",(t=>{const e=document.querySelector(".pagination__button--arrow-left"),n=document.querySelector(".pagination__button--arrow-right");t.target===e&&(d--,u()),t.target===n&&(d++,u()),"button"===t.target.type&&(d=Number(t.target.dataset.page),u())}));[...document.querySelectorAll("figure")].forEach((t=>t.addEventListener("click",n)));const b=document.getElementsByClassName("movie-details-modal__close-btn")[0];window.addEventListener("click",a),b.addEventListener("click",a)}();
//# sourceMappingURL=index.e224c3ba.js.map
